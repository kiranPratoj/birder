{"version":3,"sources":["components/users/Register.js","components/users/Login.js","actions/user.js","components/users/Account.js","components/users/Logout.js","components/users/Profile.js","App.js","reducers/users.js","index.js","store/configureStore.js"],"names":["Register","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleChange","e","persist","setState","defineProperty","target","name","value","handleSubmit","preventDefault","formData","username","state","email","password","axios","post","then","response","data","errors","alert","message","history","push","react_default","a","createElement","onSubmit","type","onChange","React","Component","Login","token","localStorage","setItem","setUser","user","payload","Account","get","headers","x-auth","getItem","dispatch","catch","err","console","log","connect","Logout","delete","removeItem","App","react_router_dom","className","msg","_","isEmpty","to","react_router","Fragment","path","component","Profile","isAuthenticated","usersReducer","arguments","length","undefined","action","objectSpread","store","createStore","combineReducers","configureStore","subscribe","getState","jsx","es","src_App","ReactDOM","render","document","getElementById"],"mappings":"+QA+DeA,cA3Db,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAQRQ,aAAe,SAACC,GACdA,EAAEC,UACFT,EAAKU,SAAS,kBAAAT,OAAAU,EAAA,EAAAV,CAAA,GACXO,EAAEI,OAAOC,KAAOL,EAAEI,OAAOE,UAZXd,EAgBnBe,aAAe,SAACP,GACdA,EAAEQ,iBACF,IAAMC,EAAW,CACfC,SAAUlB,EAAKmB,MAAMD,SACrBE,MAAOpB,EAAKmB,MAAMC,MAClBC,SAAUrB,EAAKmB,MAAME,UAGvBC,IAAMC,KAAK,kDAAmDN,GAC3DO,KAAK,SAAAC,GACAA,EAASC,KAAKC,OAChBC,MAAMH,EAASC,KAAKG,SAGpB7B,EAAKD,MAAM+B,QAAQC,KAAK,mBA5B9B/B,EAAKmB,MAAQ,CACXD,SAAU,GACVE,MAAO,GACPC,SAAU,IALKrB,wEAoCjB,OACEgC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,QAAMC,SAAUhC,KAAKY,cACnBiB,EAAAC,EAAAC,cAAA,wBAEEF,EAAAC,EAAAC,cAAA,SAAOE,KAAK,OAAOtB,MAAOX,KAAKgB,MAAMD,SAAUL,KAAK,WAAWwB,SAAUlC,KAAKI,gBACxEyB,EAAAC,EAAAC,cAAA,WACRF,EAAAC,EAAAC,cAAA,qBAEEF,EAAAC,EAAAC,cAAA,SAAOE,KAAK,OAAOtB,MAAOX,KAAKgB,MAAMC,MAAOP,KAAK,QAAQwB,SAAUlC,KAAKI,gBAClEyB,EAAAC,EAAAC,cAAA,WACRF,EAAAC,EAAAC,cAAA,wBAEEF,EAAAC,EAAAC,cAAA,SAAOE,KAAK,WAAWtB,MAAOX,KAAKgB,MAAME,SAAUR,KAAK,WAAWwB,SAAUlC,KAAKI,gBAC5EyB,EAAAC,EAAAC,cAAA,WACRF,EAAAC,EAAAC,cAAA,SAAOE,KAAK,oBArDCE,IAAMC,WCwDdC,cAvDb,SAAAA,EAAYzC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAqC,IACjBxC,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAuC,GAAAlC,KAAAH,KAAMJ,KAORQ,aAAe,SAACC,GACdA,EAAEC,UACFT,EAAKU,SAAS,kBAAAT,OAAAU,EAAA,EAAAV,CAAA,GACXO,EAAEI,OAAOC,KAAOL,EAAEI,OAAOE,UAXXd,EAenBe,aAAe,SAACP,GACdA,EAAEQ,iBACF,IAAMC,EAAW,CACfG,MAAOpB,EAAKmB,MAAMC,MAClBC,SAAUrB,EAAKmB,MAAME,UAGvBC,IAAMC,KAAK,+CAAgDN,GACxDO,KAAK,SAAAC,GAEJ,GAAIA,EAASC,KAAKC,OAChBC,MAAMH,EAASC,KAAKC,YACf,CACL,IAAMc,EAAQhB,EAASC,KAAKe,MAC5BC,aAAaC,QAAQ,gBAAiBF,GACtCzC,EAAKD,MAAM+B,QAAQC,KAAK,sBA5B9B/B,EAAKmB,MAAQ,CACXC,MAAO,GACPC,SAAU,IAJKrB,wEAoCjB,OACEgC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,mBACAF,EAAAC,EAAAC,cAAA,QAAMC,SAAUhC,KAAKY,cACnBiB,EAAAC,EAAAC,cAAA,qBAEEF,EAAAC,EAAAC,cAAA,SAAOE,KAAK,OAAOtB,MAAOX,KAAKgB,MAAMC,MAAOP,KAAK,QAAQwB,SAAUlC,KAAKI,gBAClEyB,EAAAC,EAAAC,cAAA,WACRF,EAAAC,EAAAC,cAAA,wBAEEF,EAAAC,EAAAC,cAAA,SAAOE,KAAK,WAAWtB,MAAOX,KAAKgB,MAAME,SAAUR,KAAK,WAAWwB,SAAUlC,KAAKI,gBAC5EyB,EAAAC,EAAAC,cAAA,WACRF,EAAAC,EAAAC,cAAA,SAAOE,KAAK,oBAjDFE,IAAMC,WCHbK,EAAU,SAACC,GACtB,MAAO,CAAET,KAAM,WAAYU,QAASD,ICKhCE,8LACgB,IAAA/C,EAAAG,KAClBmB,IAAM0B,IAAI,iDAAkD,CAC1DC,QAAS,CACPC,SAAUR,aAAaS,QAAQ,oBAGhC3B,KAAK,SAAAC,GACJ,IAAMoB,EAAOpB,EAASC,KACtB1B,EAAKU,SAAS,CAAEmC,SAChB7C,EAAKD,MAAMqD,SAASR,EAAQC,MAE7BQ,MAAM,SAAAC,GACLC,QAAQC,IAAIF,sCAgBhB,OADAC,QAAQC,IAAIrD,KAAKJ,OAEfiC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,SAAI/B,KAAKJ,MAAM8C,KAAK3B,kBAhCNoB,IAAMC,WA4CbkB,cANS,SAACtC,GACvB,MAAO,CACL0B,KAAM1B,EAAM0B,OAIDY,CAAyBV,GC7ClCW,8LAEgB,IAAA1D,EAAAG,KAClBmB,IAAMqC,OAAO,gDAAiD,CAC5DV,QAAS,CACPC,SAAUR,aAAaS,QAAQ,oBAGhC3B,KAAK,SAAAC,GACJiB,aAAakB,WAAW,iBACxB5D,EAAKD,MAAMqD,SFVV,CAAEhB,KAAM,eEWTpC,EAAKD,MAAM+B,QAAQC,KAAK,mDAK5B,OACEC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,oCAlBaI,IAAMC,WAwBZkB,gBAAUC,GCwBVD,cARS,SAACtC,GACvB,MAAO,CACL0B,KAAM1B,EAAM0B,OAMDY,CA9CC,SAAC1D,GAgBf,OACEiC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,+BACAF,EAAAC,EAAAC,cAAA,SAAInC,EAAM8C,KAAK3B,aCdf2C,mLAGF,OACE7B,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,KACE9B,EAAAC,EAAAC,cAAA,OAAK6B,UAAU,aACb/B,EAAAC,EAAAC,cAAA,UAAK/B,KAAKJ,MAAMiE,KAChBhC,EAAAC,EAAAC,cAAA,UACG+B,IAAEC,QAAQ/D,KAAKJ,MAAM8C,MACpBb,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,CAAMK,GAAG,mBAAT,aACJnC,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,CAAMK,GAAG,gBAAT,WAGJnC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,CAAMK,GAAG,kBAAT,YACJnC,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,CAAMK,GAAG,kBAAT,YACJnC,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,CAAMK,GAAG,iBAAT,aAIZnC,EAAAC,EAAAC,cAACkC,EAAA,EAAD,KACEpC,EAAAC,EAAAC,cAAAF,EAAAC,EAAAoC,SAAA,KACGJ,IAAEC,QAAQ/D,KAAKJ,MAAM8C,MACpBb,EAAAC,EAAAC,cAAAF,EAAAC,EAAAoC,SAAA,KACErC,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAOE,KAAK,kBAAkBC,UAAWzE,IACzCkC,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAOE,KAAK,eAAeC,UAAW/B,KAGtCR,EAAAC,EAAAC,cAAAF,EAAAC,EAAAoC,SAAA,KACErC,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAOE,KAAK,iBAAiBC,UAAWxB,IACxCf,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAOE,KAAK,gBAAgBC,UAAWb,IACvC1B,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAOE,KAAK,iBAAiBC,UAAWC,gBAhC1CjC,aAmDHkB,cAPS,SAACtC,GACvB,MAAO,CACL0B,KAAM1B,EAAM0B,KACZ4B,iBAAiB,EACjBT,IAAK,WAGMP,CAAyBI,mBCjDzBa,EAZM,WAAwB,IAAvBvD,EAAuBwD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAf,GAAIG,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC3C,OAAQC,EAAO1C,MACb,IAAK,WACH,OAAOnC,OAAA8E,EAAA,EAAA9E,CAAA,GAAK6E,EAAOhC,SAErB,IAAK,aACH,MAAO,GAET,QACE,OAAO7C,OAAA8E,EAAA,EAAA9E,CAAA,GAAKkB,KCEZ6D,ECRiB,WAKrB,OAJcC,YAAYC,YAAgB,CACxCrC,KAAM6B,KDMIS,GAEdH,EAAMI,UAAU,WACd7B,QAAQC,IAAI,oBAAqBwB,EAAMK,cAKrC3C,aAAaS,QAAQ,kBACvB7B,IAAM0B,IAAI,iDAAkD,CAC1DC,QAAS,CACPC,SAAUR,aAAaS,QAAQ,oBAGhC3B,KAAK,SAAAC,GACJuD,EAAM5B,SAASR,EAAQnB,EAASC,SActC,IAAM4D,EACJtD,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CAAUP,MAAOA,GACfhD,EAAAC,EAAAC,cAACsD,EAAD,OAIJC,IAASC,OAAOJ,EAAKK,SAASC,eAAe","file":"static/js/main.f79a1785.chunk.js","sourcesContent":["import React from 'react'\r\nimport axios from 'axios'\r\n\r\nclass Register extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      username: '',\r\n      email: '',\r\n      password: ''\r\n    }\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    e.persist()\r\n    this.setState(() => ({\r\n      [e.target.name]: e.target.value\r\n    }))\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    const formData = {\r\n      username: this.state.username,\r\n      email: this.state.email,\r\n      password: this.state.password\r\n    }\r\n\r\n    axios.post('https://birder-app.herokuapp.com/users/register', formData)\r\n      .then(response => {\r\n        if (response.data.errors) {\r\n          alert(response.data.message)\r\n        }\r\n        else {\r\n          this.props.history.push('/users/login')\r\n        }\r\n      })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>Register</h2>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <label>\r\n            username\r\n            <input type=\"text\" value={this.state.username} name=\"username\" onChange={this.handleChange}></input>\r\n          </label><br />\r\n          <label>\r\n            email\r\n            <input type=\"text\" value={this.state.email} name=\"email\" onChange={this.handleChange}></input>\r\n          </label><br />\r\n          <label>\r\n            password\r\n            <input type=\"password\" value={this.state.password} name=\"password\" onChange={this.handleChange}></input>\r\n          </label><br />\r\n          <input type=\"submit\"></input>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Register","import React from 'react'\r\nimport axios from 'axios'\r\n\r\nclass Login extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      email: '',\r\n      password: ''\r\n    }\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    e.persist()\r\n    this.setState(() => ({\r\n      [e.target.name]: e.target.value\r\n    }))\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    const formData = {\r\n      email: this.state.email,\r\n      password: this.state.password\r\n    }\r\n    // console.log(formData)\r\n    axios.post('https://birder-app.herokuapp.com/users/login', formData)\r\n      .then(response => {\r\n        // console.log(response.data) \r\n        if (response.data.errors) {\r\n          alert(response.data.errors)\r\n        } else {\r\n          const token = response.data.token\r\n          localStorage.setItem('userAuthToken', token)\r\n          this.props.history.push('/users/account')\r\n        }\r\n      })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>Login</h2>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <label>\r\n            email\r\n            <input type=\"text\" value={this.state.email} name=\"email\" onChange={this.handleChange}></input>\r\n          </label><br />\r\n          <label>\r\n            password\r\n            <input type=\"password\" value={this.state.password} name=\"password\" onChange={this.handleChange}></input>\r\n          </label><br />\r\n          <input type=\"submit\"></input>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Login","export const setUser = (user) => {\r\n  return { type: 'SET_USER', payload: user }\r\n}\r\n\r\nexport const resetUser = () => {\r\n  return { type: 'RESET_USER' }\r\n}\r\n\r\n","import React from 'react'\r\nimport axios from 'axios'\r\nimport { connect } from 'react-redux'\r\nimport { setUser } from '../../actions/user'\r\n// import { setPosts } from '../../actions/posts'\r\n\r\nclass Account extends React.Component {\r\n  componentDidMount() {\r\n    axios.get('https://birder-app.herokuapp.com/users/account', {\r\n      headers: {\r\n        'x-auth': localStorage.getItem('userAuthToken')\r\n      }\r\n    })\r\n      .then(response => {\r\n        const user = response.data\r\n        this.setState({ user })\r\n        this.props.dispatch(setUser(user))\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n\r\n    // axios.get('http://dct-user-auth.herokuapp.com/posts', {\r\n    //   headers: {\r\n    //     'x-auth': localStorage.getItem('userAuthToken')\r\n    //   }\r\n    // })\r\n    //   .then(response => {\r\n    //     const posts = response.data\r\n    //     this.props.dispatch(setPosts(posts))\r\n    //   })\r\n  }\r\n\r\n  render() {\r\n    console.log(this.props)\r\n    return (\r\n      <div>\r\n        <h2>User Account</h2>\r\n        <p>{this.props.user.username}</p>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Account)","import React from 'react'\r\nimport axios from 'axios'\r\nimport { connect } from 'react-redux'\r\nimport { resetUser } from '../../actions/user';\r\n\r\nclass Logout extends React.Component {\r\n\r\n  componentDidMount() {\r\n    axios.delete('https://birder-app.herokuapp.com/users/logout', {\r\n      headers: {\r\n        'x-auth': localStorage.getItem('userAuthToken')\r\n      }\r\n    })\r\n      .then(response => {\r\n        localStorage.removeItem('userAuthToken')\r\n        this.props.dispatch(resetUser())\r\n        this.props.history.push('/users/login')\r\n      })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <p>Logging Out... </p>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect()(Logout)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\n// import { Link } from 'react-router-dom'\r\n// import PostForm from '../../../../../notes-app/client/src/components/users/PostForm'\r\n// import { removePost } from '../../../../../notes-app/client/src/actions/posts'\r\n// import axios from 'axios'\r\n\r\nconst Profile = (props) => {\r\n  // const handleRemove = (id) => {\r\n  //   const confirm = window.confirm(\"Are You Sure?\")\r\n  //   if (confirm) {\r\n  //     // props.dispatch(removePost(id))\r\n  //     axios.delete(`http://dct-user-auth.herokuapp.com/posts/${id}`, {\r\n  //       headers: {\r\n  //         'x-auth': localStorage.getItem('userAuthToken')\r\n  //       }\r\n  //     })\r\n  //       .then(response => {\r\n  //         props.dispatch(removePost(response.data._id))\r\n  //         // if (serverRejected) // props.disptch(addPost())\r\n  //       })\r\n  //   }\r\n  // }\r\n  return (\r\n    <div>\r\n      <h3>Profile Component</h3>\r\n      <p>{props.user.username}</p>\r\n      {/* <h3>Total Posts - {props.posts.length}</h3>\r\n      <ul>\r\n        {props.posts.map(post => {\r\n          return <li key={post._id}>\r\n            <Link to={`/posts/${post._id}`}>{post.title}</Link>\r\n\r\n            <button onClick={() => {\r\n              handleRemove(post._id)\r\n            }}>Remove</button>\r\n          </li>\r\n        })}\r\n      </ul>\r\n      <h3>Add Post</h3>\r\n      <PostForm /> */}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user\r\n    // posts: state.posts\r\n  }\r\n}\r\n\r\n// export default Profile\r\nexport default connect(mapStateToProps)(Profile)\r\n","import React, { Component } from 'react'\nimport { BrowserRouter, Route, Link, Switch } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport _ from 'lodash'\n\nimport Register from './components/users/Register'\nimport Login from './components/users/Login'\nimport Account from './components/users/Account'\nimport Logout from './components/users/Logout'\nimport Profile from './components/users/Profile'\n// import ShowPost from './components/users/ShowPost'\n\nclass App extends Component {\n\n  render() {\n    return (\n      <BrowserRouter>\n        <div className=\"container\">\n          <h2>{this.props.msg}</h2>\n          <ul>\n            {_.isEmpty(this.props.user) ? (\n              <div>\n                <li><Link to=\"/users/register\">Register</Link></li>\n                <li><Link to=\"/users/login\">Login</Link></li>\n              </div>\n            ) : (\n                <div>\n                  <li><Link to=\"/users/account\">Account</Link></li>\n                  <li><Link to=\"/users/profile\">Profile</Link></li>\n                  <li><Link to=\"/users/logout\">Logout</Link></li>\n                </div>\n              )}\n          </ul>\n          <Switch>\n            <>\n              {_.isEmpty(this.props.user) ? (\n                <>\n                  <Route path=\"/users/register\" component={Register} />\n                  <Route path=\"/users/login\" component={Login} />\n                </>\n              ) : (\n                  <>\n                    <Route path=\"/users/account\" component={Account} />\n                    <Route path=\"/users/logout\" component={Logout} />\n                    <Route path=\"/users/profile\" component={Profile} />\n                  </>\n\n                )}\n            </>\n          </Switch>\n        </div>\n      </BrowserRouter>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.user,\n    isAuthenticated: true,\n    msg: \"Birder\"\n  }\n}\nexport default connect(mapStateToProps)(App)\n\n","// Reducers are normal JS functions\r\n\r\nconst usersReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'SET_USER': {\r\n      return { ...action.payload }\r\n    }\r\n    case 'RESET_USER': {\r\n      return {}\r\n    }\r\n    default:\r\n      return { ...state }\r\n  }\r\n}\r\nexport default usersReducer","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport axios from 'axios'\nimport { Provider } from 'react-redux'\nimport configureStore from './store/configureStore'\n\nimport { setUser } from './actions/user'\n// import { setPosts } from './actions/posts'\n\n\n// import { userInfo } from 'os';\n\nconst store = configureStore()\n\nstore.subscribe(() => {\n  console.log('redux store state', store.getState())\n})\n\n\n// user reloaded page\nif (localStorage.getItem('userAuthToken')) {\n  axios.get('https://birder-app.herokuapp.com/users/account', {\n    headers: {\n      'x-auth': localStorage.getItem('userAuthToken')\n    }\n  })\n    .then(response => {\n      store.dispatch(setUser(response.data))\n    })\n\n  //   axios.get('http://dct-user-auth.herokuapp.com/posts', {\n  //     headers: {\n  //       'x-auth': localStorage.getItem('userAuthToken')\n  //     }\n  //   })\n  //     .then(response => {\n  //       const posts = response.data\n  //       store.dispatch(setPosts(posts))\n  //     })\n}\n\nconst jsx = (\n  <Provider store={store}>\n    <App />\n  </Provider>\n)\n\nReactDOM.render(jsx, document.getElementById('root')) ","import { createStore, combineReducers } from 'redux'\r\nimport usersReducer from '../reducers/users'\r\n// import postsReducer from '../reducers/posts'\r\n\r\n\r\nconst configureStore = () => {\r\n  const store = createStore(combineReducers({\r\n    user: usersReducer\r\n    // posts: postsReducer\r\n  }))\r\n  return store\r\n}\r\n\r\nexport default configureStore"],"sourceRoot":""}